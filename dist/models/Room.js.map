{"version":3,"sources":["../../models/Room.js"],"names":["bcrypt","require","crypto","mongoose","roomSchema","Schema","name","String","description","hostId","type","Types","ObjectId","ref","timestamps","statics","compareHost","userId","roomId","findById","room","Room","model","module","exports"],"mappings":";;;;AAAA,IAAMA,SAASC,QAAQ,eAAR,CAAf;AACA,IAAMC,SAASD,QAAQ,QAAR,CAAf;AACA,IAAME,WAAWF,QAAQ,UAAR,CAAjB;;AAEA,IAAMG,aAAa,IAAID,SAASE,MAAb,CAAoB;AACrCC,QAAOC,MAD8B;AAErCC,eAAcD,MAFuB;AAGrCE,UAAS;AACPC,UAAOP,SAASE,MAAT,CAAgBM,KAAhB,CAAsBC,QADtB;AAEPC,SAAM;AAFC,GAH4B;AAOrCH,QAAOH;AAP8B,CAApB,EAQhB,EAAEO,YAAY,IAAd,EARgB,CAAnB;;AAUAV,WAAWW,OAAX,CAAmBC,WAAnB;AAAA,qEAAiC,iBAAgBC,MAAhB,EAAuBC,MAAvB,EAA+BR,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACd,KAAKS,QAAL,CAAcD,MAAd,CADc;;AAAA;AAC3BE,gBAD2B;;AAAA,gBAE3BA,IAF2B;AAAA;AAAA;AAAA;;AAAA,6CAGrB,KAHqB;;AAAA;AAAA,6CAIxBA,KAAKX,MAAL,IAAeQ,MAAf,IAAyBG,KAAKV,IAAL,KAAcA,IAJf;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjC;;AAAA;AAAA;AAAA;AAAA;;AAOA,IAAMW,OAAOlB,SAASmB,KAAT,CAAe,MAAf,EAAuBlB,UAAvB,CAAb;;AAIAmB,OAAOC,OAAP,GAAiBH,IAAjB","file":"Room.js","sourcesContent":["const bcrypt = require('bcrypt-nodejs');\nconst crypto = require('crypto');\nconst mongoose = require('mongoose');\n\nconst roomSchema = new mongoose.Schema({\n  name : String,\n  description : String,\n  hostId : {\n    type : mongoose.Schema.Types.ObjectId,\n    ref : 'User'\n  },\n  type : String,\n}, { timestamps: true });\n\nroomSchema.statics.compareHost = async function (userId,roomId, type) {\n  let room = await this.findById(roomId)\n  if(!room)\n     return false;\n  return room.hostId == userId && room.type === type;\n}\n\nconst Room = mongoose.model('Room', roomSchema);\n\n\n\nmodule.exports = Room;\n"]}