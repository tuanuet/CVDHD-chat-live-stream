{"version":3,"sources":["../livechat.socket.js"],"names":["module","exports","io","of","on","socket","console","log","id","data","cb","join","roomId","err","broadcast","to","emit"],"mappings":";;AAAAA,OAAOC,OAAP,GAAiB,UAACC,EAAD,EAAQ;AACvBA,KAAGC,EAAH,CAAM,WAAN,EAAmBC,EAAnB,CAAsB,YAAtB,EAAoC,UAACC,MAAD,EAAY;AAC9CC,YAAQC,GAAR,CAAY,oBAAZ,EAAkCF,OAAOG,EAAzC;;AAEAH,WAAOD,EAAP,CAAU,MAAV,EAAkB,UAACK,IAAD,EAAOC,EAAP,EAAc;AAC9BL,aAAOM,IAAP,CAAYF,KAAKG,MAAjB,EAAyB,UAACC,GAAD,EAAS;AAChC,YAAIA,GAAJ,EAAS,OAAOH,GAAG,KAAH,CAAP;;AAETL,eAAOO,MAAP,GAAgBH,KAAKG,MAArB;AACAP,eAAOS,SAAP,CAAiBC,EAAjB,CAAoBN,KAAKG,MAAzB,EAAiCI,IAAjC,CAAsC,2BAAtC,EAAmEP,IAAnE;;AAEA,eAAOC,GAAG,IAAH,CAAP;AACD,OAPD;AAQD,KATD;AAUD,GAbD;AAcD,CAfD","file":"livechat.socket.js","sourcesContent":["module.exports = (io) => {\n  io.of('/livechat').on('connection', (socket) => {\n    console.log('Event connection: ', socket.id);\n\n    socket.on('join', (data, cb) => {\n      socket.join(data.roomId, (err) => {\n        if (err) return cb(false);\n\n        socket.roomId = data.roomId;\n        socket.broadcast.to(data.roomId).emit('server-broadcast-livechat', data);\n\n        return cb(true);\n      });\n    });\n  });\n};\n"]}